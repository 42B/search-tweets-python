<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python Twitter Search API &#8212; Twitter Search APIs Python Wrapper 1.0b documentation</title>
    
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0b',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="searchtweets package" href="searchtweets.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">
          Twitter Search API</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://github.com/twitterdev/twitter_search_api">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Twitter Search API <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python Twitter Search API</a></li>
<li class="toctree-l1"><a class="reference internal" href="searchtweets.html">searchtweets package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.api_utils">searchtweets.api_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.result_stream">searchtweets.result_stream module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.utils">searchtweets.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Python Twitter Search API</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#using-the-comand-line-application">Using the Comand Line Application</a></li>
<li><a class="reference internal" href="#using-the-twitter-search-api-within-python">Using the Twitter Search API within Python</a><ul>
<li><a class="reference internal" href="#enterprise-setup">Enterprise setup</a></li>
<li><a class="reference internal" href="#premium-setup">Premium Setup</a></li>
<li><a class="reference internal" href="#fast-way">Fast Way</a></li>
<li><a class="reference internal" href="#working-with-the-resultstream">Working with the ResultStream</a></li>
<li><a class="reference internal" href="#counts-api">Counts API</a></li>
<li><a class="reference internal" href="#dated-searches-full-archive-search">Dated searches / Full Archive Search</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="searchtweets.html" title="Next Chapter: searchtweets package"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">searchtweets package &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="python-twitter-search-api">
<h1>Python Twitter Search API<a class="headerlink" href="#python-twitter-search-api" title="Permalink to this headline">¶</a></h1>
<p>This library serves as a python interface to the <a class="reference external" href="https://developer.twitter.com/en/docs/tweets/search/overview/30-day-search">Twitter premium and enterprise search APIs</a>. It provides a command-line utility and a library usable from within python. It comes with tools for assisting in dynamic generation of search rules and for parsing tweets.</p>
<p>Pretty docs can be seen <a class="reference external" href="https://twitterdev.github.io/search_tweets_api/">here</a>.</p>
</div>
<div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Command-line utility is pipeable to other tools (e.g., <code class="docutils literal"><span class="pre">jq</span></code>).</li>
<li>Automatically handles pagination of results with specifiable limits</li>
<li>Delivers a stream of data to the user for low in-memory requirements</li>
<li>Handles Enterprise and Premium authentication methods</li>
<li>Flexible usage within a python program</li>
<li>Compatible with our group&#8217;s Tweet Parser for rapid extraction of relevant data fields from each tweet payload</li>
<li>Supports the Counts API, which can reduce API call usage and provide rapid insights if you only need volumes and not tweet payloads</li>
</ul>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>We will host the package on PyPi so it&#8217;s pip-friendly.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">searchtweets</span>
</pre></div>
</div>
<p>Or the development version locally via</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">twitterdev</span><span class="o">/</span><span class="n">search</span><span class="o">-</span><span class="n">tweets</span><span class="o">-</span><span class="n">python</span>
<span class="n">cd</span> <span class="n">search</span><span class="o">-</span><span class="n">tweets</span><span class="o">-</span><span class="n">python</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-comand-line-application">
<h1>Using the Comand Line Application<a class="headerlink" href="#using-the-comand-line-application" title="Permalink to this headline">¶</a></h1>
<p>We provide a utility, <code class="docutils literal"><span class="pre">search_tweets.py</span></code>, in the <code class="docutils literal"><span class="pre">tools</span></code> directory that provides rapid access to tweets.
Premium customers should use <code class="docutils literal"><span class="pre">--bearer-token</span></code>; enterprise customers should use <code class="docutils literal"><span class="pre">--user-name</span></code> and <code class="docutils literal"><span class="pre">--password</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">--endpoint</span></code> flag will specify the full URL of your connection, e.g.:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">twitter</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="mf">1.1</span><span class="o">/</span><span class="n">tweets</span><span class="o">/</span><span class="n">search</span><span class="o">/</span><span class="mi">30</span><span class="n">day</span><span class="o">/</span><span class="n">dev</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>You can find this url in your developer console.</p>
<p>Note that the <code class="docutils literal"><span class="pre">--results-per-call</span></code> flag specifies an argument to the API call ( <code class="docutils literal"><span class="pre">maxResults</span></code>, results returned per CALL), not as a hard max to number of results returned from this program. use <code class="docutils literal"><span class="pre">--max-results</span></code> for that for now.</p>
<p><strong>Stream json results to stdout without saving</strong></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">search_tweets</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">bearer</span><span class="o">-</span><span class="n">token</span> <span class="o">&lt;</span><span class="n">BEARER_TOKEN</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="n">endpoint</span> <span class="o">&lt;</span><span class="n">MY_ENDPOINT</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">results</span> <span class="mi">1000</span> \
  <span class="o">--</span><span class="n">results</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">call</span> <span class="mi">100</span> \
  <span class="o">--</span><span class="nb">filter</span><span class="o">-</span><span class="n">rule</span> <span class="s2">&quot;beyonce has:hashtags&quot;</span> \
  <span class="o">--</span><span class="nb">print</span><span class="o">-</span><span class="n">stream</span>
</pre></div>
</div>
<p><strong>Stream json results to stdout and save to a file</strong></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">search_tweets</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">user</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">USERNAME</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="n">password</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="n">endpoint</span> <span class="o">&lt;</span><span class="n">MY_ENDPOINT</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">results</span> <span class="mi">1000</span> \
  <span class="o">--</span><span class="n">results</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">call</span> <span class="mi">100</span> \
  <span class="o">--</span><span class="nb">filter</span><span class="o">-</span><span class="n">rule</span> <span class="s2">&quot;beyonce has:hashtags&quot;</span> \
  <span class="o">--</span><span class="n">filename</span><span class="o">-</span><span class="n">prefix</span> <span class="n">beyonce_geo</span> \
  <span class="o">--</span><span class="nb">print</span><span class="o">-</span><span class="n">stream</span>
</pre></div>
</div>
<p><strong>Save to file without output</strong></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">search_tweets</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">user</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">USERNAME</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="n">password</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="n">endpoint</span> <span class="o">&lt;</span><span class="n">MY_ENDPOINT</span><span class="o">&gt;</span> \
  <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">results</span> <span class="mi">100</span> \
  <span class="o">--</span><span class="n">results</span><span class="o">-</span><span class="n">per</span><span class="o">-</span><span class="n">call</span> <span class="mi">100</span> \
  <span class="o">--</span><span class="nb">filter</span><span class="o">-</span><span class="n">rule</span> <span class="s2">&quot;beyonce has:hashtags&quot;</span> \
  <span class="o">--</span><span class="n">filename</span><span class="o">-</span><span class="n">prefix</span> <span class="n">beyonce_geo</span> \
  <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">stream</span>
</pre></div>
</div>
<p>It can be far easier to specify your information in a configuration file. An example file can be found in the <code class="docutils literal"><span class="pre">tools/api_config_example.config</span></code> file, but will look something like this:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">credentials</span><span class="p">]</span>
<span class="n">account_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">account_name</span><span class="o">&gt;</span>
<span class="n">username</span> <span class="o">=</span>  <span class="o">&lt;</span><span class="n">user_name</span><span class="o">&gt;</span>
<span class="n">password</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span>
<span class="n">bearer_token</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">token</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">api_info</span><span class="p">]</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">endpoint</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">gnip_search_rules</span><span class="p">]</span>
<span class="n">from_date</span> <span class="o">=</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">01</span>
<span class="n">to_date</span> <span class="o">=</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">01</span>
<span class="n">results_per_call</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">pt_rule</span> <span class="o">=</span> <span class="n">beyonce</span> <span class="n">has</span><span class="p">:</span><span class="n">hashtags</span>


<span class="p">[</span><span class="n">search_params</span><span class="p">]</span>
<span class="n">max_results</span> <span class="o">=</span> <span class="mi">500</span>

<span class="p">[</span><span class="n">output_params</span><span class="p">]</span>
<span class="n">output_file_prefix</span> <span class="o">=</span> <span class="n">beyonce</span>
</pre></div>
</div>
<p>Soon, we will update this behavior and remove the credentials section from the config file to be handled differently.</p>
<p>When using a config file in conjunction with the command-line utility, you need to specify your config file via the <code class="docutils literal"><span class="pre">--config-file</span></code> parameter. Additional command-line arguments will either be <em>added</em> to the config file args or <strong>overwrite</strong> the config file args if both are specified and present.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">search_tweets</span><span class="o">.</span><span class="n">py</span> \
  <span class="o">--</span><span class="n">config</span><span class="o">-</span><span class="n">file</span> <span class="n">myapiconfig</span><span class="o">.</span><span class="n">config</span> \
  <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="nb">print</span><span class="o">-</span><span class="n">stream</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-twitter-search-api-within-python">
<h1>Using the Twitter Search API within Python<a class="headerlink" href="#using-the-twitter-search-api-within-python" title="Permalink to this headline">¶</a></h1>
<p>Working with the API within a Python program is straightforward both for
Premium and Enterprise clients.</p>
<p>Our group&#8217;s python <a class="reference external" href="https://github.com/twitterdev/tweet_parser">tweet parser
library</a> is a
requirement.</p>
<p>Prior to starting your program, an easy way to define your secrets will
be setting an environment variable. If you are an enterprise client,
your authentication will be a (username, password) pair. If you are a
premium client, you&#8217;ll need to get a bearer token that will be passed
with each call for authentication.</p>
<p>Your credentials should be put into a YAML file that looks like this:</p>
<div class="code yaml highlight-default"><div class="highlight"><pre><span></span><span class="n">search_tweets_api</span><span class="p">:</span>
  <span class="n">endpoint</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">FULL_URL_OF_ENDPOINT</span><span class="o">&gt;</span>
  <span class="n">account</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">ACCOUNT_NAME</span><span class="o">&gt;</span>
  <span class="n">username</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">USERNAME</span><span class="o">&gt;</span>
  <span class="n">password</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">PW</span><span class="o">&gt;</span>
  <span class="n">bearer_token</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">TOKEN</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>And filling in the keys that are appropriate for your account type.
Premium users should only have the <code class="docutils literal"><span class="pre">endpoint</span></code> and <code class="docutils literal"><span class="pre">bearer_token</span></code>;
Enterprise customers should have <code class="docutils literal"><span class="pre">account</span></code>, <code class="docutils literal"><span class="pre">username</span></code>,
<code class="docutils literal"><span class="pre">endpoint</span></code>, and <code class="docutils literal"><span class="pre">password</span></code>.</p>
<p>Our credential reader expects this file at
<code class="docutils literal"><span class="pre">&quot;~/.twitter_keys.yaml&quot;</span></code>, but you can pass the relevant location as
needed.</p>
<p>The following cell demonstrates the basic setup that will be referenced
throughout your program&#8217;s session.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">searchtweets</span> <span class="k">import</span> <span class="n">ResultStream</span><span class="p">,</span> <span class="n">gen_rule_payload</span><span class="p">,</span> <span class="n">load_credentials</span>
</pre></div>
</div>
<div class="section" id="enterprise-setup">
<h2>Enterprise setup<a class="headerlink" href="#enterprise-setup" title="Permalink to this headline">¶</a></h2>
<p>If you are an enterprise customer, you&#8217;ll need to authenticate with a
basic username/password method. You can specify that here:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">enterprise_search_args</span> <span class="o">=</span> <span class="n">load_credentials</span><span class="p">(</span><span class="s2">&quot;~/.twitter_keys.yaml&quot;</span><span class="p">,</span>
                                          <span class="n">account_type</span><span class="o">=</span><span class="s2">&quot;enterprise&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="premium-setup">
<h2>Premium Setup<a class="headerlink" href="#premium-setup" title="Permalink to this headline">¶</a></h2>
<p>Premium customers will use a bearer token for authentication. Use the
following cell for setup:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">premium_search_args</span> <span class="o">=</span> <span class="n">load_credentials</span><span class="p">(</span><span class="s2">&quot;~/.twitter_keys.yaml&quot;</span><span class="p">,</span>
                                       <span class="n">account_type</span><span class="o">=</span><span class="s2">&quot;premium&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>There is a function that formats search API rules into valid json
queries called <code class="docutils literal"><span class="pre">gen_rule_payload</span></code>. It has sensible defaults, such as
pulling more tweets per call than the default 100 (but note that a
sandbox environment can only have a max of 100 here, so if you get
errors, please check this) not including dates, and defaulting to hourly
counts when using the counts api. Discussing the finer points of
generating search rules is out of scope for these examples; I encourage
you to see the docs to learn the nuances within, but for now let&#8217;s see
what a rule looks like.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="o">=</span> <span class="n">gen_rule_payload</span><span class="p">(</span><span class="s2">&quot;beyonce&quot;</span><span class="p">,</span> <span class="n">results_per_call</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># testing with a sandbox account</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span><span class="s2">&quot;beyonce&quot;</span><span class="p">,</span><span class="s2">&quot;maxResults&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">}</span>
</pre></div>
</div>
<p>This rule will match tweets that have the text <code class="docutils literal"><span class="pre">beyonce</span></code> in them.</p>
<p>From this point, there are two ways to interact with the API. There is a
quick method to collect smaller amounts of tweets to memory that
requires less thought and knowledge, and interaction with the
<code class="docutils literal"><span class="pre">ResultStream</span></code> object which will be introduced later.</p>
</div>
<div class="section" id="fast-way">
<h2>Fast Way<a class="headerlink" href="#fast-way" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ll use the <code class="docutils literal"><span class="pre">search_args</span></code> variable to power the configuration point
for the API. The object also takes a valid PowerTrack rule and has
options to cutoff search when hitting limits on both number of tweets
and API calls.</p>
<p>We&#8217;ll be using the <code class="docutils literal"><span class="pre">collect_results</span></code> function, which has three
parameters.</p>
<ul class="simple">
<li>rule: a valid powertrack rule, referenced earlier</li>
<li>max_results: as the api handles pagination, it will stop collecting
when we get to this number</li>
<li>result_stream_args: configuration args that we&#8217;ve already
specified.</li>
</ul>
<p>For the remaining examples, please change the args to either premium or
enterprise depending on your usage.</p>
<p>Let&#8217;s see how it goes:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">searchtweets</span> <span class="k">import</span> <span class="n">collect_results</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">tweets</span> <span class="o">=</span> <span class="n">collect_results</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span>
                         <span class="n">max_results</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                         <span class="n">result_stream_args</span><span class="o">=</span><span class="n">enterprise_search_args</span><span class="p">)</span> <span class="c1"># change this if you need to</span>
</pre></div>
</div>
<p>By default, tweet payloads are lazily parsed into a <code class="docutils literal"><span class="pre">Tweet</span></code> object. An
overwhelming number of tweet attributes are made available directly, as
such:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">all_text</span><span class="p">)</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]];</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>That deep sigh Beyoncé took once she realized she wouldn’t be able to get the earpiece out of her hair before the dance break 😂.  https://t.co/dU1K2KMT7i
4 Years ago today, &quot;BEYONCÉ&quot; by Beyoncé was surprise released. It received acclaim from critics,  debuted at #1 and certified 2x Platinum in the US. https://t.co/wB3C7DuX9o
me mata la gente que se cree superior por sus gustos de música escuches queen beyonce o el polaco no sos mas ni menos que nadie
I’m literally not Beyoncé https://t.co/LwIkllCx6P
#BEYONCÉ ‣ 𝐌𝐄𝐀𝐃𝐃𝐅𝐀𝐍 𝐎𝐅𝐈𝐂𝐈𝐀𝐋 - I Am... 𝐖𝐎𝐑𝐋𝐃 𝐓𝐎𝐔𝐑! https://t.co/TyyeDdXKiM
Beyoncé on how nervous she was to release her self-titled... https://t.co/fru23c6DYC
AAAA ansiosa por esse feat da Beyoncé com Jorge Ben Jor &amp;lt;3 https://t.co/NkKJhC9JUd
I am world tour, the Beyonce experience, revamped hmt. https://t.co/pb07eMyNka
Tell me what studio versions of any artists would u like me to do? https://t.co/Z6YWsAJuhU
Billboard&#39;s best female artists over the last decade:

2017: Ariana Grande
2016: Adele
2015: Taylor Swift
2014: Katy Perry
2013: Taylor Swift
2012: Adele
2011: Adele
2010: Lady Gaga
2009: Taylor Swift
2008: Rihanna

Beyonce = 0

Taylor Swift = 3 👑
Beyoncé explaining her intent behind the BEYONCÉ visual album &amp;amp; how she wanted to reinstate the idea of an album release as a significant, exciting event which had lost meaning in the face of hype created around singles. 👑 https://t.co/pK2MB35vYl
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">created_at_datetime</span><span class="p">)</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]];</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">17</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">16</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">16</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">15</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">13</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">12</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">12</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">11</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">10</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]];</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Twitter</span> <span class="k">for</span> <span class="n">Android</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">Android</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">Android</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">iPhone</span>
<span class="n">Meadd</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">iPhone</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">Android</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">iPhone</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">iPhone</span>
<span class="n">Twitter</span> <span class="k">for</span> <span class="n">Android</span>
</pre></div>
</div>
<p>Voila, we have some tweets. For interactive environments and other cases
where you don&#8217;t care about collecting your data in a single load or
don&#8217;t need to operate on the stream of tweets or counts directly, I
recommend using this convenience function.</p>
</div>
<div class="section" id="working-with-the-resultstream">
<h2>Working with the ResultStream<a class="headerlink" href="#working-with-the-resultstream" title="Permalink to this headline">¶</a></h2>
<p>The ResultStream object will be powered by the <code class="docutils literal"><span class="pre">search_args</span></code>, and
takes the rules and other configuration parameters, including a hard
stop on number of pages to limit your API call usage.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rs</span> <span class="o">=</span> <span class="n">ResultStream</span><span class="p">(</span><span class="n">rule_payload</span><span class="o">=</span><span class="n">rule</span><span class="p">,</span>
                  <span class="n">max_results</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
                  <span class="n">max_pages</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="o">**</span><span class="n">premium_search_args</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">rs</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">
ResultStream:
    {
    &quot;username&quot;:null,
    &quot;endpoint&quot;:&quot;<a class="reference external" href="https://api.twitter.com/1.1/tweets/search/30day/dev.json">https://api.twitter.com/1.1/tweets/search/30day/dev.json</a>&quot;,
    &quot;rule_payload&quot;:{
        &quot;query&quot;:&quot;beyonce&quot;,
        &quot;maxResults&quot;:100
    },
    &quot;tweetify&quot;:true,
    &quot;max_results&quot;:500
}
</pre>
<p>There is a function, <code class="docutils literal"><span class="pre">.stream</span></code>, that seamlessly handles requests and
pagination for a given query. It returns a generator, and to grab our
500 tweets that mention <code class="docutils literal"><span class="pre">beyonce</span></code> we can do this:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">tweets</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">rs</span><span class="o">.</span><span class="n">stream</span><span class="p">())</span>
</pre></div>
</div>
<p>Tweets are lazily parsed using our Tweet Parser, so tweet data is very
easily extractable.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># using unidecode to prevent emoji/accents printing</span>
<span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">all_text</span><span class="p">)</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]];</span>
</pre></div>
</div>
<pre class="literal-block">
Everyone: <em>still dragging Jay for cheating</em>

Beyoncé: <a class="reference external" href="https://t.co/2z1ltlMQiJ">https://t.co/2z1ltlMQiJ</a>
Beyoncé changed the game w/ that digital drop 4 years ago today! 🎉

• #1 debut on Billboard
• Sold 617K in the US / over 828K WW in only 3 days
• Fastest-selling album on iTunes of all time
• Reached #1 in 118 countries
• Widespread acclaim; hailed as her magnum opus <a class="reference external" href="https://t.co/lDCdVs6em3">https://t.co/lDCdVs6em3</a>
Beyoncé 🔥 #444Tour <a class="reference external" href="https://t.co/sCvZzjLwqx">https://t.co/sCvZzjLwqx</a>
Se presentan casos de feminismo pop basado en sugerencias de artistas famosos en turno, Emma Watson, Beyoncé.
Beyonce. Are you kidding me with this?! #Supreme #love #everything
Dear Beyoncé, <a class="reference external" href="https://t.co/5visfVK2LR">https://t.co/5visfVK2LR</a>
At this time 4 years ago today, Beyoncé released her self-titled album BEYONCÉ exclusively on the iTunes Store without any prior announcement. The album remains the ONLY album in history to reach #1 in 118 countries &amp;amp; the fastest-selling album in the history of the iTunes Store. <a class="reference external" href="https://t.co/ZZb4QyQYf0">https://t.co/ZZb4QyQYf0</a>
4 years ago today, Beyoncé released her self-titled visual album &quot;BEYONCÉ&quot; and shook up the music world forever. 🙌🏿 <a class="reference external" href="https://t.co/aGtUSq9R3u">https://t.co/aGtUSq9R3u</a>
Everyone: <em>still dragging Jay for cheating</em>

Beyoncé: <a class="reference external" href="https://t.co/2z1ltlMQiJ">https://t.co/2z1ltlMQiJ</a>
And Beyonce hasn't had a solo #1 hit since the Bush administration soooo... <a class="reference external" href="https://t.co/WCd7ni8DwN">https://t.co/WCd7ni8DwN</a>
</pre>
</div>
<div class="section" id="counts-api">
<h2>Counts API<a class="headerlink" href="#counts-api" title="Permalink to this headline">¶</a></h2>
<p>We can also use the counts api to get counts of tweets that match our
rule. Each request will return up to <em>30</em> results, and each count
request can be done on a minutely, hourly, or daily basis. The
underlying <code class="docutils literal"><span class="pre">ResultStream</span></code> object will handle converting your endpoint
to the count endpoint, and you have to specify the <code class="docutils literal"><span class="pre">count_bucket</span></code>
argument when making a rule to use it.</p>
<p>The process is very similar to grabbing tweets, but has some minor
differneces.</p>
<p><strong>Caveat - premium sandbox environments do NOT have access to the counts
API.</strong></p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">count_rule</span> <span class="o">=</span> <span class="n">gen_rule_payload</span><span class="p">(</span><span class="s2">&quot;beyonce&quot;</span><span class="p">,</span> <span class="n">count_bucket</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">)</span>

<span class="n">counts</span> <span class="o">=</span> <span class="n">collect_results</span><span class="p">(</span><span class="n">count_rule</span><span class="p">,</span> <span class="n">result_stream_args</span><span class="o">=</span><span class="n">enterprise_search_args</span><span class="p">)</span>
</pre></div>
</div>
<p>Our results are pretty straightforward and can be rapidly used.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">counts</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">85660</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712130000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">95231</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712120000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">114540</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712110000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">165964</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712100000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">102022</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712090000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">87630</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712080000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">195794</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712070000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">209629</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712060000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">88742</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712050000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">96795</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712040000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">177595</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712030000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">120102</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712020000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">186759</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201712010000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">151212</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711300000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">79311</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711290000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">107175</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711280000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">58192</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711270000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">48327</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711260000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">59639</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711250000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">85201</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711240000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">91544</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711230000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">64129</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711220000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">92065</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711210000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">101617</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711200000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">84733</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711190000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">74887</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711180000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">76091</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711170000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">81849</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711160000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">58423</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711150000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">78004</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711140000&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">118077</span><span class="p">,</span> <span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201711130000&#39;</span><span class="p">}]</span>
</pre></div>
</div>
</div>
<div class="section" id="dated-searches-full-archive-search">
<h2>Dated searches / Full Archive Search<a class="headerlink" href="#dated-searches-full-archive-search" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s make a new rule and pass it dates this time.</p>
<p><code class="docutils literal"><span class="pre">gen_rule_payload</span></code> takes dates of the forms <code class="docutils literal"><span class="pre">YYYY-mm-DD</span></code> and
<code class="docutils literal"><span class="pre">YYYYmmDD</span></code>.</p>
<p><strong>Note that this will only work with the full archive search option</strong>,
which is available to my account only via the enterprise options. Full
archive search will likely require a different endpoint or access
method; please see your developer console for details.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="o">=</span> <span class="n">gen_rule_payload</span><span class="p">(</span><span class="s2">&quot;from:jack&quot;</span><span class="p">,</span> <span class="n">from_date</span><span class="o">=</span><span class="s2">&quot;2017-09-01&quot;</span><span class="p">,</span> <span class="n">to_date</span><span class="o">=</span><span class="s2">&quot;2017-10-30&quot;</span><span class="p">,</span> <span class="n">results_per_call</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span><span class="s2">&quot;from:jack&quot;</span><span class="p">,</span><span class="s2">&quot;maxResults&quot;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="s2">&quot;toDate&quot;</span><span class="p">:</span><span class="s2">&quot;201710300000&quot;</span><span class="p">,</span><span class="s2">&quot;fromDate&quot;</span><span class="p">:</span><span class="s2">&quot;201709010000&quot;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">tweets</span> <span class="o">=</span> <span class="n">collect_results</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">result_stream_args</span><span class="o">=</span><span class="n">enterprise_search_args</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># usiing unidecode only to</span>
<span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">tweet</span><span class="o">.</span><span class="n">all_text</span><span class="p">)</span> <span class="k">for</span> <span class="n">tweet</span> <span class="ow">in</span> <span class="n">tweets</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]];</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>More clarity on our private information policy and enforcement. Working to build as much direct context into the product too https://t.co/IrwBexPrBA
To provide more clarity on our private information policy, we’ve added specific examples of what is/is not a violation and insight into what we need to remove this type of content from the service. https://t.co/NGx5hh2tTQ
Launching violent groups and hateful images/symbols policy on November 22nd https://t.co/NaWuBPxyO5
We will now launch our policies on violent groups and hateful imagery and hate symbols on Nov 22. During the development process, we received valuable feedback that we’re implementing before these are published and enforced. See more on our policy development process here 👇 https://t.co/wx3EeH39BI
@WillStick @lizkelley Happy birthday Liz!
Off-boarding advertising from all accounts owned by Russia Today (RT) and Sputnik.

We’re donating all projected earnings ($1.9mm) to support external research into the use of Twitter in elections, including use of malicious automation and misinformation. https://t.co/zIxfqqXCZr
@TMFJMo @anthonynoto Thank you
@gasca @stratechery @Lefsetz letter
@gasca @stratechery Bridgewater’s Daily Observations
Yup!!!! ❤️❤️❤️❤️ #davechappelle https://t.co/ybSGNrQpYF
@ndimichino Sometimes
Setting up at @CampFlogGnaw https://t.co/nVq8QjkKsf
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="o">=</span> <span class="n">gen_rule_payload</span><span class="p">(</span><span class="s2">&quot;from:jack&quot;</span><span class="p">,</span>
                        <span class="n">from_date</span><span class="o">=</span><span class="s2">&quot;2017-09-20&quot;</span><span class="p">,</span>
                        <span class="n">to_date</span><span class="o">=</span><span class="s2">&quot;2017-10-30&quot;</span><span class="p">,</span>
                        <span class="n">count_bucket</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span>
                        <span class="n">results_per_call</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rule</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span><span class="s2">&quot;from:jack&quot;</span><span class="p">,</span><span class="s2">&quot;toDate&quot;</span><span class="p">:</span><span class="s2">&quot;201710300000&quot;</span><span class="p">,</span><span class="s2">&quot;fromDate&quot;</span><span class="p">:</span><span class="s2">&quot;201709200000&quot;</span><span class="p">,</span><span class="s2">&quot;bucket&quot;</span><span class="p">:</span><span class="s2">&quot;day&quot;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">counts</span> <span class="o">=</span> <span class="n">collect_results</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">max_results</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">result_stream_args</span><span class="o">=</span><span class="n">enterprise_search_args</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">counts</span><span class="p">];</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710290000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710280000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710270000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710260000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710250000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710240000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710230000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710220000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710210000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710200000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710190000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710180000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710170000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710160000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710150000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710140000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">64</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710130000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710120000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710110000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710100000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710090000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710080000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710070000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710060000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710050000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710040000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710030000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710020000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201710010000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709300000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709290000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709280000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709270000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">41</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709260000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709250000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709240000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709230000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709220000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709210000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">{</span><span class="s1">&#39;timePeriod&#39;</span><span class="p">:</span> <span class="s1">&#39;201709200000&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">}</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python Twitter Search API</a></li>
<li class="toctree-l1"><a class="reference internal" href="searchtweets.html">searchtweets package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.api_utils">searchtweets.api_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.result_stream">searchtweets.result_stream module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets.utils">searchtweets.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="searchtweets.html#module-searchtweets">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, twitterdev.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>